<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Dev — Pages</title>
    
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
              rel="stylesheet"
              integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
              crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
              integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
              crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"
                        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
                        crossorigin="anonymous"></script>
    
        <script src="../script.js" type="module"></script>
        <script src="script.js" type="module"></script>
    
        <style>
            body { padding: 1.5rem; }
            .sector-card { margin-bottom: .5rem; }
            pre.json { max-height: 160px; overflow: auto; background:#f8f9fa; padding: .75rem; }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="row mb-4">
                <div class="col-12">
                    <h1 class="h3">Dev — Create new page</h1>
                    <p class="text-muted">Simple UI to create a page object and save it to <code>database.json</code>.</p>
                </div>
            </div>
    
            <div class="row">
                <div class="col-lg-6">
                    <div class="card mb-3">
                        <div class="card-body">
                            <form id="page-form" class="needs-validation" novalidate>
                                <div class="mb-3">
                                    <label for="title" class="form-label">Title</label>
                                    <input id="title" class="form-control" required>
                                    <div class="invalid-feedback">Please provide a title.</div>
                                </div>
    
                                <div class="mb-3">
                                    <label for="type" class="form-label">Type</label>
                                    <select id="type" class="form-select">
                                        <option value="regular">Regular</option>
                                        <option value="with_image">With image</option>
                                    </select>
                                </div>
    
                                <div class="mb-3 d-none" id="image-group">
                                    <label for="image" class="form-label">Image URL</label>
                                    <input id="image" class="form-control">
                                </div>
    
                                <hr>
                                <h6>Sectors</h6>
                                <div class="mb-2 d-flex gap-2">
                                    <input id="sector-title" class="form-control" placeholder="Sector title">
                                    <button id="add-sector" type="button" class="btn btn-outline-primary">Add sector</button>
                                </div>
                                <div class="mb-3">
                                    <textarea id="sector-content" class="form-control" rows="4" placeholder="Sector content (markdown or html)"></textarea>
                                </div>
    
                                <div id="sectors-list" class="mb-3"></div>
    
                                <div class="d-flex gap-2">
                                    <button id="create-page" type="button" class="btn btn-primary">Create page</button>
                                    <button id="save-db" type="button" class="btn btn-secondary">Save database (write)</button>
                                    <button id="clear-form" type="button" class="btn btn-outline-danger">Clear</button>
                                </div>
                            </form>
                        </div>
                    </div>
    
                    <div class="card">
                        <div class="card-body">
                            <h6 class="card-title">Pages (loaded)</h6>
                            <ul id="pages-list" class="list-group list-group-flush"></ul>
                        </div>
                    </div>
                </div>
    
                <div class="col-lg-6">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h6>Preview / Raw database</h6>
                            <pre id="raw-db" class="json">[]</pre>
                        </div>
                    </div>
    
                    <div class="card">
                        <div class="card-body">
                            <h6>Instructions</h6>
                            <ol>
                                <li>Place this <code>index.html</code> in <code>dev/</code> next to your <code>script.js</code> (project root) and this <code>script.js</code> (dev script) file.</li>
                                <li>Serve the project with whatever dev server you use (the page POSTs to <code>/save</code> to write files).</li>
                                <li>Use the form to create pages and press <strong>Save database</strong> to write <code>database.json</code>.</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
